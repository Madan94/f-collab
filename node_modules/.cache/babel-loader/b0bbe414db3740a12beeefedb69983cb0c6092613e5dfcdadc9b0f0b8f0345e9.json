{"ast":null,"code":"var _jsxFileName = \"E:\\\\f-collab\\\\src\\\\Pages\\\\Editor.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useRef } from \"react\";\nimport ReactFlow, { ReactFlowProvider, Controls, MiniMap, Background, addEdge, useNodesState, useEdgesState } from \"@xyflow/react\";\nimport \"reactflow/dist/style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DiagramEditor = () => {\n  _s();\n  const initialNodes = [{\n    id: \"1\",\n    type: \"default\",\n    position: {\n      x: 250,\n      y: 100\n    },\n    data: {\n      label: \"Start Node\"\n    }\n  }];\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const reactFlowWrapper = useRef(null);\n  const onConnect = useCallback(params => setEdges(eds => addEdge(params, eds)), []);\n\n  // âœ… Add Rectangle Node\n  const addRectangle = () => {\n    setNodes(nds => [...nds, {\n      id: `${nds.length + 1}`,\n      position: {\n        x: Math.random() * 400,\n        y: Math.random() * 400\n      },\n      data: {\n        label: \"Rectangle\"\n      }\n    }]);\n  };\n\n  // âœ… Add Circle Node\n  const addCircle = () => {\n    setNodes(nds => [...nds, {\n      id: `${nds.length + 1}`,\n      position: {\n        x: Math.random() * 400,\n        y: Math.random() * 400\n      },\n      data: {\n        label: \"Circle\"\n      }\n    }]);\n  };\n\n  // âœ… Save Diagram JSON\n  const saveDiagram = () => {\n    const diagramData = {\n      nodes,\n      edges\n    };\n    localStorage.setItem(\"diagramData\", JSON.stringify(diagramData));\n    alert(\"Diagram saved!\");\n  };\n\n  // âœ… Load Diagram JSON\n  const loadDiagram = () => {\n    const savedData = localStorage.getItem(\"diagramData\");\n    if (savedData) {\n      const {\n        nodes,\n        edges\n      } = JSON.parse(savedData);\n      setNodes(nodes);\n      setEdges(edges);\n    } else {\n      alert(\"No saved diagram found!\");\n    }\n  };\n\n  // âœ… Export as PNG\n  const downloadImage = () => {\n    const canvas = document.querySelector(\"canvas\");\n    const dataUrl = canvas.toDataURL(\"image/png\");\n    const link = document.createElement(\"a\");\n    link.href = dataUrl;\n    link.download = \"diagram.png\";\n    link.click();\n  };\n  return /*#__PURE__*/_jsxDEV(ReactFlowProvider, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-screen w-screen flex flex-col bg-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-blue-500 text-white flex gap-4 shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-white text-blue-600 px-4 py-2 rounded shadow\",\n          onClick: addRectangle,\n          children: \"\\u2795 Rectangle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-white text-blue-600 px-4 py-2 rounded shadow\",\n          onClick: addCircle,\n          children: \"\\uD83D\\uDD35 Circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-white text-blue-600 px-4 py-2 rounded shadow\",\n          onClick: saveDiagram,\n          children: \"\\uD83D\\uDCBE Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-white text-blue-600 px-4 py-2 rounded shadow\",\n          onClick: loadDiagram,\n          children: \"\\uD83D\\uDCC2 Load\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-white text-blue-600 px-4 py-2 rounded shadow\",\n          onClick: downloadImage,\n          children: \"\\uD83D\\uDCF7 Export PNG\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow relative\",\n        children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n          nodes: nodes,\n          edges: edges,\n          onNodesChange: onNodesChange,\n          onEdgesChange: onEdgesChange,\n          onConnect: onConnect,\n          fitView: true,\n          className: \"h-full w-full\",\n          children: [/*#__PURE__*/_jsxDEV(MiniMap, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Background, {\n            color: \"#ddd\",\n            gap: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_s(DiagramEditor, \"hlRgN9hdmIJE9ScyeKqK3vC378o=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c = DiagramEditor;\nvar _c;\n$RefreshReg$(_c, \"DiagramEditor\");","map":{"version":3,"names":["React","useState","useCallback","useRef","ReactFlow","ReactFlowProvider","Controls","MiniMap","Background","addEdge","useNodesState","useEdgesState","jsxDEV","_jsxDEV","DiagramEditor","_s","initialNodes","id","type","position","x","y","data","label","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","reactFlowWrapper","onConnect","params","eds","addRectangle","nds","length","Math","random","addCircle","saveDiagram","diagramData","localStorage","setItem","JSON","stringify","alert","loadDiagram","savedData","getItem","parse","downloadImage","canvas","document","querySelector","dataUrl","toDataURL","link","createElement","href","download","click","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","fitView","color","gap","_c","$RefreshReg$"],"sources":["E:/f-collab/src/Pages/Editor.jsx"],"sourcesContent":["import React, { useState, useCallback, useRef } from \"react\";\r\nimport ReactFlow, {\r\n  ReactFlowProvider,\r\n  Controls,\r\n  MiniMap,\r\n  Background,\r\n  addEdge,\r\n  useNodesState,\r\n  useEdgesState,\r\n} from \"@xyflow/react\";\r\nimport \"reactflow/dist/style.css\";\r\n\r\nexport const DiagramEditor = () => {\r\n  const initialNodes = [\r\n    { id: \"1\", type: \"default\", position: { x: 250, y: 100 }, data: { label: \"Start Node\" } },\r\n  ];\r\n\r\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\r\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\r\n  const reactFlowWrapper = useRef(null);\r\n\r\n  const onConnect = useCallback(\r\n    (params) => setEdges((eds) => addEdge(params, eds)),\r\n    []\r\n  );\r\n\r\n  // âœ… Add Rectangle Node\r\n  const addRectangle = () => {\r\n    setNodes((nds) => [\r\n      ...nds,\r\n      {\r\n        id: `${nds.length + 1}`,\r\n        position: { x: Math.random() * 400, y: Math.random() * 400 },\r\n        data: { label: \"Rectangle\" },\r\n      },\r\n    ]);\r\n  };\r\n\r\n  // âœ… Add Circle Node\r\n  const addCircle = () => {\r\n    setNodes((nds) => [\r\n      ...nds,\r\n      {\r\n        id: `${nds.length + 1}`,\r\n        position: { x: Math.random() * 400, y: Math.random() * 400 },\r\n        data: { label: \"Circle\" },\r\n      },\r\n    ]);\r\n  };\r\n\r\n  // âœ… Save Diagram JSON\r\n  const saveDiagram = () => {\r\n    const diagramData = { nodes, edges };\r\n    localStorage.setItem(\"diagramData\", JSON.stringify(diagramData));\r\n    alert(\"Diagram saved!\");\r\n  };\r\n\r\n  // âœ… Load Diagram JSON\r\n  const loadDiagram = () => {\r\n    const savedData = localStorage.getItem(\"diagramData\");\r\n    if (savedData) {\r\n      const { nodes, edges } = JSON.parse(savedData);\r\n      setNodes(nodes);\r\n      setEdges(edges);\r\n    } else {\r\n      alert(\"No saved diagram found!\");\r\n    }\r\n  };\r\n\r\n  // âœ… Export as PNG\r\n  const downloadImage = () => {\r\n    const canvas = document.querySelector(\"canvas\");\r\n    const dataUrl = canvas.toDataURL(\"image/png\");\r\n\r\n    const link = document.createElement(\"a\");\r\n    link.href = dataUrl;\r\n    link.download = \"diagram.png\";\r\n    link.click();\r\n  };\r\n\r\n  return (\r\n    <ReactFlowProvider>\r\n      <div className=\"h-screen w-screen flex flex-col bg-gray-100\">\r\n        \r\n        {/* Toolbar */}\r\n        <div className=\"p-4 bg-blue-500 text-white flex gap-4 shadow-md\">\r\n          <button className=\"bg-white text-blue-600 px-4 py-2 rounded shadow\" onClick={addRectangle}>\r\n            âž• Rectangle\r\n          </button>\r\n          <button className=\"bg-white text-blue-600 px-4 py-2 rounded shadow\" onClick={addCircle}>\r\n            ðŸ”µ Circle\r\n          </button>\r\n          <button className=\"bg-white text-blue-600 px-4 py-2 rounded shadow\" onClick={saveDiagram}>\r\n            ðŸ’¾ Save\r\n          </button>\r\n          <button className=\"bg-white text-blue-600 px-4 py-2 rounded shadow\" onClick={loadDiagram}>\r\n            ðŸ“‚ Load\r\n          </button>\r\n          <button className=\"bg-white text-blue-600 px-4 py-2 rounded shadow\" onClick={downloadImage}>\r\n            ðŸ“· Export PNG\r\n          </button>\r\n        </div>\r\n\r\n        {/* Diagram Editor */}\r\n        <div className=\"flex-grow relative\">\r\n          <ReactFlow\r\n            nodes={nodes}\r\n            edges={edges}\r\n            onNodesChange={onNodesChange}\r\n            onEdgesChange={onEdgesChange}\r\n            onConnect={onConnect}\r\n            fitView\r\n            className=\"h-full w-full\"\r\n          >\r\n            <MiniMap />\r\n            <Controls />\r\n            <Background color=\"#ddd\" gap={20} />\r\n          </ReactFlow>\r\n        </div>\r\n      </div>\r\n    </ReactFlowProvider>\r\n  );\r\n};\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AAC5D,OAAOC,SAAS,IACdC,iBAAiB,EACjBC,QAAQ,EACRC,OAAO,EACPC,UAAU,EACVC,OAAO,EACPC,aAAa,EACbC,aAAa,QACR,eAAe;AACtB,OAAO,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAMC,YAAY,GAAG,CACnB;IAAEC,EAAE,EAAE,GAAG;IAAEC,IAAI,EAAE,SAAS;IAAEC,QAAQ,EAAE;MAAEC,CAAC,EAAE,GAAG;MAAEC,CAAC,EAAE;IAAI,CAAC;IAAEC,IAAI,EAAE;MAAEC,KAAK,EAAE;IAAa;EAAE,CAAC,CAC1F;EAED,MAAM,CAACC,KAAK,EAAEC,QAAQ,EAAEC,aAAa,CAAC,GAAGhB,aAAa,CAACM,YAAY,CAAC;EACpE,MAAM,CAACW,KAAK,EAAEC,QAAQ,EAAEC,aAAa,CAAC,GAAGlB,aAAa,CAAC,EAAE,CAAC;EAC1D,MAAMmB,gBAAgB,GAAG3B,MAAM,CAAC,IAAI,CAAC;EAErC,MAAM4B,SAAS,GAAG7B,WAAW,CAC1B8B,MAAM,IAAKJ,QAAQ,CAAEK,GAAG,IAAKxB,OAAO,CAACuB,MAAM,EAAEC,GAAG,CAAC,CAAC,EACnD,EACF,CAAC;;EAED;EACA,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzBT,QAAQ,CAAEU,GAAG,IAAK,CAChB,GAAGA,GAAG,EACN;MACElB,EAAE,EAAE,GAAGkB,GAAG,CAACC,MAAM,GAAG,CAAC,EAAE;MACvBjB,QAAQ,EAAE;QAAEC,CAAC,EAAEiB,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG;QAAEjB,CAAC,EAAEgB,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG;MAAI,CAAC;MAC5DhB,IAAI,EAAE;QAAEC,KAAK,EAAE;MAAY;IAC7B,CAAC,CACF,CAAC;EACJ,CAAC;;EAED;EACA,MAAMgB,SAAS,GAAGA,CAAA,KAAM;IACtBd,QAAQ,CAAEU,GAAG,IAAK,CAChB,GAAGA,GAAG,EACN;MACElB,EAAE,EAAE,GAAGkB,GAAG,CAACC,MAAM,GAAG,CAAC,EAAE;MACvBjB,QAAQ,EAAE;QAAEC,CAAC,EAAEiB,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG;QAAEjB,CAAC,EAAEgB,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG;MAAI,CAAC;MAC5DhB,IAAI,EAAE;QAAEC,KAAK,EAAE;MAAS;IAC1B,CAAC,CACF,CAAC;EACJ,CAAC;;EAED;EACA,MAAMiB,WAAW,GAAGA,CAAA,KAAM;IACxB,MAAMC,WAAW,GAAG;MAAEjB,KAAK;MAAEG;IAAM,CAAC;IACpCe,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEC,IAAI,CAACC,SAAS,CAACJ,WAAW,CAAC,CAAC;IAChEK,KAAK,CAAC,gBAAgB,CAAC;EACzB,CAAC;;EAED;EACA,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACxB,MAAMC,SAAS,GAAGN,YAAY,CAACO,OAAO,CAAC,aAAa,CAAC;IACrD,IAAID,SAAS,EAAE;MACb,MAAM;QAAExB,KAAK;QAAEG;MAAM,CAAC,GAAGiB,IAAI,CAACM,KAAK,CAACF,SAAS,CAAC;MAC9CvB,QAAQ,CAACD,KAAK,CAAC;MACfI,QAAQ,CAACD,KAAK,CAAC;IACjB,CAAC,MAAM;MACLmB,KAAK,CAAC,yBAAyB,CAAC;IAClC;EACF,CAAC;;EAED;EACA,MAAMK,aAAa,GAAGA,CAAA,KAAM;IAC1B,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/C,MAAMC,OAAO,GAAGH,MAAM,CAACI,SAAS,CAAC,WAAW,CAAC;IAE7C,MAAMC,IAAI,GAAGJ,QAAQ,CAACK,aAAa,CAAC,GAAG,CAAC;IACxCD,IAAI,CAACE,IAAI,GAAGJ,OAAO;IACnBE,IAAI,CAACG,QAAQ,GAAG,aAAa;IAC7BH,IAAI,CAACI,KAAK,CAAC,CAAC;EACd,CAAC;EAED,oBACEhD,OAAA,CAACR,iBAAiB;IAAAyD,QAAA,eAChBjD,OAAA;MAAKkD,SAAS,EAAC,6CAA6C;MAAAD,QAAA,gBAG1DjD,OAAA;QAAKkD,SAAS,EAAC,iDAAiD;QAAAD,QAAA,gBAC9DjD,OAAA;UAAQkD,SAAS,EAAC,iDAAiD;UAACC,OAAO,EAAE9B,YAAa;UAAA4B,QAAA,EAAC;QAE3F;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTvD,OAAA;UAAQkD,SAAS,EAAC,iDAAiD;UAACC,OAAO,EAAEzB,SAAU;UAAAuB,QAAA,EAAC;QAExF;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTvD,OAAA;UAAQkD,SAAS,EAAC,iDAAiD;UAACC,OAAO,EAAExB,WAAY;UAAAsB,QAAA,EAAC;QAE1F;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTvD,OAAA;UAAQkD,SAAS,EAAC,iDAAiD;UAACC,OAAO,EAAEjB,WAAY;UAAAe,QAAA,EAAC;QAE1F;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTvD,OAAA;UAAQkD,SAAS,EAAC,iDAAiD;UAACC,OAAO,EAAEb,aAAc;UAAAW,QAAA,EAAC;QAE5F;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAGNvD,OAAA;QAAKkD,SAAS,EAAC,oBAAoB;QAAAD,QAAA,eACjCjD,OAAA,CAACT,SAAS;UACRoB,KAAK,EAAEA,KAAM;UACbG,KAAK,EAAEA,KAAM;UACbD,aAAa,EAAEA,aAAc;UAC7BG,aAAa,EAAEA,aAAc;UAC7BE,SAAS,EAAEA,SAAU;UACrBsC,OAAO;UACPN,SAAS,EAAC,eAAe;UAAAD,QAAA,gBAEzBjD,OAAA,CAACN,OAAO;YAAA0D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACXvD,OAAA,CAACP,QAAQ;YAAA2D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACZvD,OAAA,CAACL,UAAU;YAAC8D,KAAK,EAAC,MAAM;YAACC,GAAG,EAAE;UAAG;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAExB,CAAC;AAACrD,EAAA,CA9GWD,aAAa;EAAA,QAKiBJ,aAAa,EACbC,aAAa;AAAA;AAAA6D,EAAA,GAN3C1D,aAAa;AAAA,IAAA0D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}